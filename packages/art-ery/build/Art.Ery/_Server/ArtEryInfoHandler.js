"use strict"
let Caf = require('caffeine-script-runtime');
Caf.defMod(module, () => {return Caf.importInvoke(["config", "log", "objectKeyCount", "pipelineRegistry"], [global, require('./StandardImport')], (config, log, objectKeyCount, pipelineRegistry) => {let ArtEryInfoHandler; return ArtEryInfoHandler = Caf.defClass(class ArtEryInfoHandler extends require('art-express-server').PromiseHandler {constructor(options = {}) {let temp; super(...arguments); this._pipelineRegistry = ((temp = options.pipelineRegistry) != null ? temp : pipelineRegistry);};}, function(ArtEryInfoHandler, classSuper, instanceSuper) {this.getter("pipelineRegistry", {pipelines: function() {return this.pipelineRegistry.pipelines;}}); this.getter({handleUrlRegex: function() {return this._exactDefaultHandlerRegex || (this._exactDefaultHandlerRegex = RegExp(`^\\/${Caf.toString(config.apiRoot)}\\/?\$`));}}); this.prototype.handleApiRequest = function(request, requestData) {let reports; reports = Caf.object(this.pipelines, (pipeline) => pipeline.getApiReport({publicOnly: true})); log({new: {ArtEryInfoHandler: {handleApiRequest: {pipelines: this.pipelines, reports}}}}); return {"Art.Ery.Api": Caf.object(reports, null, (report) => 0 < objectKeyCount(report))};};});});});
//# sourceMappingURL=ArtEryInfoHandler.js.map
