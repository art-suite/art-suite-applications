"use strict"
let Caf = require('caffeine-script-runtime');
Caf.defMod(module, () => {return Caf.importInvoke(["test", "chainedTest", "PipelineRegistry", "assert", "Promise", "Session"], [global, require('./StandardImport')], (test, chainedTest, PipelineRegistry, assert, Promise, Session) => {test("singleton instance", function() {let session; ({session} = PipelineRegistry.pipelineRegistry); session.data = {userId: "abc"}; return assert.eq(session.data, {userId: "abc"});}); test("change event", function() {return new Promise((done) => {let session; session = new Session({userId: "123"}, null, PipelineRegistry.pipelineRegistry); session.on({change: ({props}) => {assert.eq(props, {data: {userId: "456"}}); return done();}}); return session.data = {userId: "456"};});}); return chainedTest("new Session", function() {return (new PipelineRegistry).session;}).tapTest("no session at start", function(session) {return assert.eq(session.data, {});}).tapTest("session.data = userId: :123", function(session) {session.data = {userId: "123"}; return assert.eq(session.data, {userId: "123"});}).tapTest("session.data = foo: 'bar'", function(session) {session.data = {foo: "bar"}; return assert.eq(session.data, {foo: "bar"});});});});
//# sourceMappingURL=Session.test.js.map
