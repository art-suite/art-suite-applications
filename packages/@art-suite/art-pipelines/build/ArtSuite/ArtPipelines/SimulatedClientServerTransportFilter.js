"use strict"
let Caf = require('caffeine-script-runtime');
Caf.defMod(module, () => {return Caf.importInvoke(["JSON", "isFailure"], [global, require('./StandardImport')], (JSON, isFailure) => {let SimulatedClientServerTransportFilter; return SimulatedClientServerTransportFilter = Caf.defClass(class SimulatedClientServerTransportFilter extends require('./Filter') {}, function(SimulatedClientServerTransportFilter, classSuper, instanceSuper) {this.location("client"); this.group("handler"); this.before({all: function(request) {return request.pipeline.get(request.key, {location: "server", props: JSON.parse(JSON.stringify(request.props)), returnResponse: true, remoteRequest: request, filterLog: request.filterLog}).then((remoteResponse) => request.toResponse(isFailure(remoteResponse.status) ? "serverFailure" : remoteResponse.status, {remoteResponse, remoteRequest: remoteResponse.remoteRequest, filterLog: remoteResponse.filterLog, props: JSON.parse(JSON.stringify(remoteResponse.props))}));}});});});});
//# sourceMappingURL=SimulatedClientServerTransportFilter.js.map
