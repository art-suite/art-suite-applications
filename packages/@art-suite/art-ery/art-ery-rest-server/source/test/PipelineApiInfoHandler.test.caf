import &StandardImport

&ArtConfig.configure()

{session, pipelines} = pipelineRegistry = new PipelineRegistry location: :client
class SimplePipeline extends Pipeline
  @registry pipelineRegistry
  @publicHandler get: (request) ->

test "PipelineApiInfoHandler" ->
  handler = new PipelineApiInfoHandler {} pipelineRegistry

  Promise.then -> handler.handleApiRequest url: handler.specPath
  .then (result) ->
    assert.selectedEq
      openapi: :3.0.0
      result
