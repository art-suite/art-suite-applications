"use strict"
let Caf = require('caffeine-script-runtime');
Caf.defMod(module, () => {return Caf.importInvoke(["ArtConfig", "test", "Pipeline", "assert"], [global, require('./StandardImport')], (ArtConfig, test, Pipeline, assert) => {ArtConfig.configure(); return test("clientFailure", function() {let MyPipeline, p; MyPipeline = Caf.defClass(class MyPipeline extends Pipeline {}, function(MyPipeline, classSuper, instanceSuper) {this.handlers({create: function(request) {return {foo: 1, bar: 2};}}); this.filter({name: "myFilter1", after: {create: function(response) {return response;}}}); this.filter({name: "myFilter2", after: {create: function(response) {return response.clientFailure("you lose!");}}}); this.filter({name: "myFilter3", after: {create: function(response) {return response;}}});}); p = new MyPipeline; return assert.isClientFailure(p.create()).then(({info: {response}}) => assert.eq(response.failedRequest.filter.after.create.name, "myFilter2"));});});});
//# sourceMappingURL=Failures.test.js.map
